---
title: 内联函数
date: 2021-04-22 23:30:23
tags:
categories: c++
doc:
---

# 内联函数

c 语言中有宏函数的概念。宏函数的特点是内嵌到调用代码中去,避免了
函数调用 的开销。但是由于宏函数的处理发生在预处理阶段,缺失了语法检测
和有可能带来的语意差错

### 特点：

1）内联函数声明时inline关键字必须和函数定义结合在一起，否则编译器会直
接忽略内联请求。
2）C++编译器直接将函数体插入在函数调用的地方 。
3）内联函数没有普通函数调用时的额外开销(压栈，跳转，返回)。
4）内联函数是一种特殊的函数，具有普通函数的特征（参数检查，返回类型
等）。
5） 内联函数由 编译器处理，直接将编译后的函数体插入调用的地方，
宏代码片段 由预处理器处理， 进行简单的文本替换，没有任何编译过程。
6）C++中内联编译的限制：

&emsp;&emsp;不能存在任何形式的循环语句
&emsp;&emsp;不能存在过多的条件判断语句
&emsp;&emsp;函数体不能过于庞大
&emsp;&emsp;不能对函数进行取址操作
&emsp;&emsp;函数内联声明必须在调用语句之前
7）编译器对于内联函数的限制并不是绝对的，内联函数相对于普通函数的优
势只是省去了函数调用时压栈，跳转和返回的开销。因此，当函数体的执行开
销远大于压栈，跳转和返回所用的开销时，那么内联将无意义。

```c++
#include<iostream>

using namespace std;

//内联函数
inline int Max(int a, int b)
{
	return a > b ? a : b;
}

int main(int argc, char* argv[])
{

	int a = 100;
	int b = 20;
	int max = Max(a, b);
	cout << max << endl;
	return 0;
}



```

