---
title: 第一章计算机网络概述
date: 2022-01-14 00:56:27
tags:
categories: 计算机网络原理
doc:
---

### 局域网

![image-20220114011444766](/images/javawz/image-20220114011444766.png)

每一间课室的电脑都连接到同一台交换机上,楼道上会形成很多网线,不雅观



![image-20220114012723065](/images/javawz/image-20220114012723065.png)

电脑到交换机距离的网线不超过100米，交换机到交换机的网线也不超过一百米

![image-20220114013131827](/images/javawz/image-20220114013131827.png)

接入层交换机的接口比较多，汇聚层的接口比较少，但要求输入和输出的带宽高

![image-20220114013417969](/images/javawz/image-20220114013417969.png)

中间的网线承担了两个课室的流量，不规范

总结：局域网覆盖范围小，自己花钱买设备带宽固定，自己维护

### Intenet和广域网

![image-20220114014449047](/images/javawz/image-20220114014449047.png)

Intenet有很多 IPS运营商组成，他们都有自己的机房，对网民提供访问Internet连接（可以是ADSL或光纤）

广域网：距离远（可以超过100米） 花钱租带宽

我们买的带宽是指从我们这里到运营商那一段的带宽，比如我们拉了100兆的网线，意思就是从我们这里到运营商接口那里是100兆的

公网地址是全球唯一的，不会重复



### 规划IP地址介绍MAC地址

![image-20220114020833334](/images/javawz/image-20220114020833334.png)



一般路由器地址是自己网段的第一个地址

例如自己网段是13.0.0.0 路由器地址就是13.0.0.1

MAC地址：网卡生产时的物理地址，48位二进制表示，也是全球唯一，不重复的

网关: 数据到其他网段需要给的机器(一般是路由器)

DNS：解析域名的服务器，比如我们打开`www.baidu.com`，电脑会先请求DNS服务器，然后DNS服务器会返回一个域名对应的ip地址回来

### 数据包和数据帧

![image-20220114022359765](/images/javawz/image-20220114022359765.png)

![image-20220114022439593](/images/javawz/image-20220114022439593.png)

IP地址决定最后给谁

MAC地址决定下一跳给谁

数据包最大1500字节,如果数据超过1500个字节会切片,然后给每个数据包编号



### 访问网站数据传输过程

![image-20220114023846946](/images/javawz/image-20220114023846946.png)

网站服务器收到请求之后会将网页打包成很多数据包，每个数据包都有编号，然后再一个个放到网卡缓存里，每个数据包都有源ip地址，目标ip地址，源mac地址和目标mac地址。

数据包发送到客户机网卡的缓存之后，客户机会发送接收下一个数据包的请求，然后服务器收到之后会将上一个发送的数据包删除掉，再发下一个数据包。

客户机会一边接收数据包，一边将数据包排好序一个个的显示出来，最终形成一个网页

### OSI参考模型

应用层:所有能产生网络流量的程序

表示层:在传输之前是否进行加密或压缩处理,是二进制数据还是ASCII数据

会话层: 查木马`netstat -n`,一般连接网络的软件都会建立会话

传输层:可靠传输 、流量控制、不可控传输

网络层：负责选择最佳路径 规划IP地址

数据链路层：帧的开始和结束、透明传输、差错校验

物理层：接口标准、电器标准、如何在物理链路上传输更快的速度

### 理解OSI参考模型分层思想

网络七层模型之间有相对独立性，每一层的变化一般不会对其他层有影响。一个计算机可以加多ip地址

### OSI参考模型和网络排错

网络出现问题,应该从物理层开始往上排查

物理层故障：网线断了是物理层故障,发送有包，接收没包，需要检查一下网线水晶头（接触不良）

数据链路层故障：MAC地址冲突、ADSL欠费、接口网速协商不一致（强制性）、计算机连接到错的VLAN

网络层故障：没有配网关、配置错误的IP地址，子网掩码，路由器没有配置到达目标网络的路由

应用层故障：应用程序配置错误（代理配置错误等）

### OSI参考模型和网络安全

网络安全-OSI模型各层的安全
1.物理层：把用不到的口关掉。
2.数据链路层：ADSL拨号的账号密码；无线网络要输数据密码；划分VLAN，在交换机上创建虚拟局域网；交换机端口绑定MAC地址。
3.网络层：在路由器上使用ACL控制数据包流量（路由器可以控制哪个网段可以访问哪个网络）。Windows防火墙设置；
4.应用层：开发的应用程序没有漏洞，SQL注入漏洞等。

### OSI参考模型和TCP/IP协议

![image-20220116133849928](/images/javawz/image-20220116133849928.png)

TCP/IP协议栈一共五层:应用层、传输层、网络层、数据链路层、物理层。
ARP协议为IP协议提供服务，IP协议为ICMP和IGMP协议提供服务。
应用层：准备要发送的数据
传输层：将数据分段编号
网络层：为要发送的数据加上IP地址或去掉接收到的数据中的IP地址。
数据链路层：添加或去掉MAC地址和校验值

FCS：差错校验

![image-20220116135844590](/images/javawz/image-20220116135844590.png)



![image-20220116135938908](/images/javawz/image-20220116135938908.png)



![image-20220116140018729](/images/javawz/image-20220116140018729.png)

![image-20220116140044730](/images/javawz/image-20220116140044730.png)



### 计算机网络性能指标



1.速率（比特率）：连接在计算机网络上的主机在数字信道上传达数据位数的速率。b/s，kb/s,Mb/s,Gb/s。（一般看到的是byte/s，需要bit/s除以8）
网络100M指的是100Mbit
速率是指一个发送端一个接收端每秒中传输的bit
2.带宽：网络设备支持的最高速度，单位是b/s  Kb/s Mb/s  Gb/s
3.吞吐量：单位时间内通过某个网络的数据量。b/s,Mb/s...。
一般指的是各个信道速率之和

4.时延：发送时延=数据块长度（bit）/信道带宽(bit/s)；传播时延；处理时延；接收时延。光纤的支持更高的发送速度，但传播速度没有比铜线快，光纤每秒传输20.5万公里，铜线每秒传输23.1万公里。
从网络的一端传输到另一端所需要的时间
给网络设备增加带宽可以减少发送时延，但不可以无限增加，发送时延越小，数据长度越窄

5.时延带宽积=传播时延*带宽。（传输线路上的数据量）

![image-20220116222042898](/images/javawz/image-20220116222042898.png)

<br>

6.往返时间（round-trip time）：从发送方发送数据开始，到发送方收到接收方确认。ping 命令可以查看。

![image-20220116221159756](/images/javawz/image-20220116221159756.png)

<br/>

7.网络利用率：1）信道利用率=有数据通过时间/（有+无）数据通过时间。2）网络利用率：信道利用率加权平均值。3）网络当前时延=网络空闲时的时延/（1-信道利用率）。

![image-20220116222012493](/images/javawz/image-20220116222012493.png)