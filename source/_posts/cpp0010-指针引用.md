---
title: 指针引用
date: 2021-04-22 23:15:14
tags:
categories: c++
doc:
---

# 指针引用

```c++
#include<iostream>
#include<cstdlib>
using namespace std;

int my_malloc(int num,int **pp)
{
	
	*pp = (int *)malloc(num);

	return 0;
}


//指针引用做函数参数,优化二级指针
int my_malloc2(int num, int * &pp)//pp 代表 *pp
{

	pp = (int *)malloc(num);

	return 0;
}

int main(int argc, char* argv[])
{

	int *p = NULL;

	my_malloc(100, &p);

	cout << p << endl;

	free(p);
	p = NULL;
	cout << "------------------------------------" << endl;
	my_malloc2(4, p);
	
	*p = 4;
	cout << *p << endl;
	free(p);
	p = NULL;
	return 0;
}



```

