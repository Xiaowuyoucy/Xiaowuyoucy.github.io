<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000">
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top">
  
  
  <title>第四章网络层 | YanChen</title>
  <meta name="description" content="计算机网络原理笔记 第四章 网络层    网络层提供得两种服务     1.虚电路服务    2.数据包服务   虚电路服务与数据报服务的对比   网际协议 IP    1.虚拟互联网    2.IP地址   3.划分子网和构造超网   4.IP地址与硬件地址   5.ARP &amp;amp; RARP   6.IP数据报格式   7.IP转发分组的流程   网际控制报文协议 ICMP   互联网的路">
<meta name="keywords" content="web安全,网络安全资讯，WEB渗透，数据安全，渗透测试，学习投资，金融理财">
<meta property="og:type" content="article">
<meta property="og:title" content="第四章网络层">
<meta property="og:url" content="https://xiaowuyoucy.github.io/2021/04/14/计算机网络原理笔记-第四章网络层/index.html">
<meta property="og:site_name" content="YanChen">
<meta property="og:description" content="计算机网络原理笔记 第四章 网络层    网络层提供得两种服务     1.虚电路服务    2.数据包服务   虚电路服务与数据报服务的对比   网际协议 IP    1.虚拟互联网    2.IP地址   3.划分子网和构造超网   4.IP地址与硬件地址   5.ARP &amp;amp; RARP   6.IP数据报格式   7.IP转发分组的流程   网际控制报文协议 ICMP   互联网的路">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200430162831795.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200430163756614.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506083348375.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507093025535.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200502224434522.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200502224345992.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506112109402.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506112227720.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506085348654.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506085505183.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506094017932.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506101736822.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506102016792.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506102238549.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507093926598.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506204208551.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506205100202.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506212853937.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506212957308.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506213204945.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200506213316454.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507091405628.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507091541236.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507091556553.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507091643165.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507092729465.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507103301406.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507103340478.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507103422784.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200507103834272.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/2020050710393134.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200511145155197.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200511145252579.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200511145303192.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200511145739994.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200511150003451.png">
<meta property="og:image" content="https://xiaowuyoucy.github.io/images/javawz/20200511150049489.png">
<meta property="og:updated_time" content="2021-04-14T16:06:16.574Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="第四章网络层">
<meta name="twitter:description" content="计算机网络原理笔记 第四章 网络层    网络层提供得两种服务     1.虚电路服务    2.数据包服务   虚电路服务与数据报服务的对比   网际协议 IP    1.虚拟互联网    2.IP地址   3.划分子网和构造超网   4.IP地址与硬件地址   5.ARP &amp;amp; RARP   6.IP数据报格式   7.IP转发分组的流程   网际控制报文协议 ICMP   互联网的路">
<meta name="twitter:image" content="https://xiaowuyoucy.github.io/images/javawz/20200430162831795.png">
  <!-- Canonical links -->
  <link rel="canonical" href="https://xiaowuyoucy.github.io/2021/04/14/计算机网络原理笔记-第四章网络层/index.html">
  
    <link rel="alternate" href="/atom.xml" title="YanChen" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/fonts2/iconfont.css">
  
  
  
  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.css">
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/xiaowuyoucy" target="_blank">
          <img class="img-circle img-rotate" src="/images/logo.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">YanChen</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> GuangZhou, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索">
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech>
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-navigation">
          <a href="https://www.xiaochenyan.top/navigation/index.html">
            
            <i class="icon icon-map-marker"></i>
            
            <span class="menu-title">导航</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">书单</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-movies">
          <a href="/movies">
            
            <i class="icon iconfont icon-video"></i>
            
            <span class="menu-title">电影</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/xiaowuyoucy" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">格言</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
				
				<p id="hitokoto">:D 获取中...</p>
				<p id="from" style="text-align: right"></p>
                <script>
					  var xhr = new XMLHttpRequest();
					  xhr.open('get', 'https://v1.hitokoto.cn');
					  xhr.onreadystatechange = function () {
						if (xhr.readyState === 4) {
						  var data = JSON.parse(xhr.responseText);
						  var hitokoto = document.getElementById('hitokoto');
						  hitokoto.innerText = data.hitokoto;
						  var from = document.getElementById('from');
						  from.innerText = "-- " + data.from;
						}
					  }
					  xhr.send();
				</script>
				
				
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Golang/">Golang</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTML-CSS/">HTML/CSS</a><span class="category-list-count">22</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">198</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/KaliLinux/">KaliLinux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MYSQL/">MYSQL</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenSSL/">OpenSSL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Qt/">Qt</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RHCE/">RHCE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RHEL8/">RHEL8</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WEB安全渗透/">WEB安全渗透</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows命令/">Windows命令</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows网络编程/">Windows网络编程</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/apache/">apache</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cpp/">cpp</a><span class="category-list-count">118</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cpp17从入门到精通/">cpp17从入门到精通</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/githubHexo/">githubHexo</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/libevent/">libevent</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">97</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows程序设计/">windows程序设计</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows程序设计2/">windows程序设计2</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/多端安全协议传输平台/">多端安全协议传输平台</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/小说/">小说</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术资讯/">技术资讯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">38</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构与算法/">数据结构与算法</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/易语言/">易语言</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/汇编逆向/">汇编逆向</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/理财投资/">理财投资</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/简谈计算机/">简谈计算机</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程开发/">编程开发</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程词汇/">编程词汇</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程错误总结/">编程错误总结</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络协议/">网络协议</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络爬虫/">网络爬虫</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/英语单词/">英语单词</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机公共基础/">计算机公共基础</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络TCP-IP传输协议-网络抓包/">计算机网络TCP/IP传输协议/网络抓包</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络原理/">计算机网络原理</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/逆向工程/">逆向工程</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/高中数学/">高中数学</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/GET/">$_GET</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POST，-SERVER/">$_POST，$_SERVER</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REQUEST/">$_REQUEST</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cookie/">Cookie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GOTO语句/">GOTO语句</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/">Golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang函数/">Golang函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang匿名函数/">Golang匿名函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang基础/">Golang基础</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang基础类型占位符/">Golang基础类型占位符</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang常量与变量里表达式/">Golang常量与变量里表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang循环结构/">Golang循环结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang指针/">Golang指针</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang标准输入与输出/">Golang标准输入与输出</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang流程控制/">Golang流程控制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang程序运算/">Golang程序运算</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang类型转换及移位运算/">Golang类型转换及移位运算</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang闭包函数/">Golang闭包函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ISO七层模型/">ISO七层模型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java总结/">Java总结</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kalinux/">Kalinux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Null和Undefined/">Null和Undefined</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP两种定义常量的形式/">PHP两种定义常量的形式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP常量/">PHP常量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python教程/">Python教程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python笔记/">Python笔记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python运算符/">Python运算符</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO网站优化/">SEO网站优化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XSS/">XSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DIR/">__DIR__</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FILE/">__FILE__</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LINE/">__LINE__</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache环境变量/">apache环境变量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache配置/">apache配置</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/beef劫持/">beef劫持</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dowhile循环/">dowhile循环</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iota定义常量组/">iota定义常量组</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript函数/">javascript函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js-this方法/">js-this方法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js布尔类型隐私转换/">js布尔类型隐私转换</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux目录结构/">linux目录结构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php变量/">php变量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql注入/">sql注入</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/urlib2/">urlib2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web安全渗透/">web安全渗透</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web渗透/">web渗透</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/变量的操作/">变量的操作</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/延时执行defer/">延时执行defer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/拉格狼日/">拉格狼日</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/时间复杂度测试/">时间复杂度测试</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/理财，投资/">理财，投资</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络模型/">网络模型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机基础/">计算机基础</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/顺序表/">顺序表</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/GET/" style="font-size: 13px;">$_GET</a> <a href="/tags/POST，-SERVER/" style="font-size: 13px;">$_POST，$_SERVER</a> <a href="/tags/REQUEST/" style="font-size: 13px;">$_REQUEST</a> <a href="/tags/Cookie/" style="font-size: 13px;">Cookie</a> <a href="/tags/GOTO语句/" style="font-size: 13px;">GOTO语句</a> <a href="/tags/Golang/" style="font-size: 13px;">Golang</a> <a href="/tags/Golang函数/" style="font-size: 13px;">Golang函数</a> <a href="/tags/Golang匿名函数/" style="font-size: 13px;">Golang匿名函数</a> <a href="/tags/Golang基础/" style="font-size: 14px;">Golang基础</a> <a href="/tags/Golang基础类型占位符/" style="font-size: 13px;">Golang基础类型占位符</a> <a href="/tags/Golang常量与变量里表达式/" style="font-size: 13px;">Golang常量与变量里表达式</a> <a href="/tags/Golang循环结构/" style="font-size: 13px;">Golang循环结构</a> <a href="/tags/Golang指针/" style="font-size: 13px;">Golang指针</a> <a href="/tags/Golang标准输入与输出/" style="font-size: 13px;">Golang标准输入与输出</a> <a href="/tags/Golang流程控制/" style="font-size: 13px;">Golang流程控制</a> <a href="/tags/Golang程序运算/" style="font-size: 13px;">Golang程序运算</a> <a href="/tags/Golang类型转换及移位运算/" style="font-size: 13px;">Golang类型转换及移位运算</a> <a href="/tags/Golang闭包函数/" style="font-size: 13px;">Golang闭包函数</a> <a href="/tags/ISO七层模型/" style="font-size: 13px;">ISO七层模型</a> <a href="/tags/Java总结/" style="font-size: 13px;">Java总结</a> <a href="/tags/Kalinux/" style="font-size: 13px;">Kalinux</a> <a href="/tags/Null和Undefined/" style="font-size: 13px;">Null和Undefined</a> <a href="/tags/PHP两种定义常量的形式/" style="font-size: 13px;">PHP两种定义常量的形式</a> <a href="/tags/PHP常量/" style="font-size: 13px;">PHP常量</a> <a href="/tags/Python教程/" style="font-size: 13px;">Python教程</a> <a href="/tags/Python笔记/" style="font-size: 13px;">Python笔记</a> <a href="/tags/Python运算符/" style="font-size: 13px;">Python运算符</a> <a href="/tags/SEO网站优化/" style="font-size: 13px;">SEO网站优化</a> <a href="/tags/XSS/" style="font-size: 14px;">XSS</a> <a href="/tags/DIR/" style="font-size: 13px;">__DIR__</a> <a href="/tags/FILE/" style="font-size: 13px;">__FILE__</a> <a href="/tags/LINE/" style="font-size: 13px;">__LINE__</a> <a href="/tags/apache环境变量/" style="font-size: 13px;">apache环境变量</a> <a href="/tags/apache配置/" style="font-size: 13px;">apache配置</a> <a href="/tags/beef劫持/" style="font-size: 13px;">beef劫持</a> <a href="/tags/dowhile循环/" style="font-size: 13px;">dowhile循环</a> <a href="/tags/iota定义常量组/" style="font-size: 13px;">iota定义常量组</a> <a href="/tags/javascript函数/" style="font-size: 13px;">javascript函数</a> <a href="/tags/js-this方法/" style="font-size: 13px;">js-this方法</a> <a href="/tags/js布尔类型隐私转换/" style="font-size: 13px;">js布尔类型隐私转换</a> <a href="/tags/linux目录结构/" style="font-size: 13px;">linux目录结构</a> <a href="/tags/php变量/" style="font-size: 13px;">php变量</a> <a href="/tags/sql注入/" style="font-size: 13px;">sql注入</a> <a href="/tags/urlib2/" style="font-size: 13px;">urlib2</a> <a href="/tags/web安全渗透/" style="font-size: 13px;">web安全渗透</a> <a href="/tags/web渗透/" style="font-size: 13px;">web渗透</a> <a href="/tags/变量的操作/" style="font-size: 13px;">变量的操作</a> <a href="/tags/延时执行defer/" style="font-size: 13px;">延时执行defer</a> <a href="/tags/拉格狼日/" style="font-size: 13px;">拉格狼日</a> <a href="/tags/时间复杂度测试/" style="font-size: 13px;">时间复杂度测试</a> <a href="/tags/理财，投资/" style="font-size: 13px;">理财，投资</a> <a href="/tags/算法/" style="font-size: 13px;">算法</a> <a href="/tags/网络模型/" style="font-size: 13px;">网络模型</a> <a href="/tags/计算机基础/" style="font-size: 13px;">计算机基础</a> <a href="/tags/顺序表/" style="font-size: 13px;">顺序表</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">66</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">87</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">37</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">51</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">125</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">109</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">三月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/小说/">小说</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/19/第一篇缘的由来/" class="title">第一篇  初遇悦儿</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-19T15:04:51.000Z" itemprop="datePublished">2023-10-19</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/英语单词/">英语单词</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/11/yydc0001/" class="title">yydc0001</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-11T15:58:48.000Z" itemprop="datePublished">2023-10-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Qt/">Qt</a>
              </p>
              <p class="item-title">
                <a href="/2023/10/11/Qt编程第一天/" class="title">Qt编程第一天</a>
              </p>
              <p class="item-date">
                <time datetime="2023-10-11T15:09:49.000Z" itemprop="datePublished">2023-10-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/RHEL8/">RHEL8</a>
              </p>
              <p class="item-title">
                <a href="/2023/04/10/安装与配置Linux操作系统/" class="title">安装与配置Linux操作系统</a>
              </p>
              <p class="item-date">
                <time datetime="2023-04-10T14:29:52.000Z" itemprop="datePublished">2023-04-10</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/逆向工程/">逆向工程</a>
              </p>
              <p class="item-title">
                <a href="/2022/07/10/逆向工程基础/" class="title">逆向工程基础</a>
              </p>
              <p class="item-date">
                <time datetime="2022-07-10T09:21:30.000Z" itemprop="datePublished">2022-07-10</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-计算机网络原理笔记-第四章网络层" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      第四章网络层
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/04/14/计算机网络原理笔记-第四章网络层/" class="article-date">
	  <time datetime="2021-04-14T15:31:49.000Z" itemprop="datePublished">2021-04-14</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/计算机网络原理/">计算机网络原理</a>
  </span>

        

        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/04/14/计算机网络原理笔记-第四章网络层/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 7.1k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 24(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h3 id="计算机网络原理笔记-第四章-网络层"><a class="markdownIt-Anchor" href="#计算机网络原理笔记-第四章-网络层"></a> 计算机网络原理笔记 第四章 网络层</h3>
<ul>
<li>
<ul>
<li><a href="#网络层提供得两种服务">网络层提供得两种服务</a></li>
</ul>
</li>
<li>
<ul>
<li><a href="#1.虚电路服务">1.虚电路服务</a></li>
</ul>
</li>
<li>
<p><a href="#2.数据包服务">2.数据包服务</a></p>
</li>
<li>
<p><a href="#虚电路服务与数据报服务的对比">虚电路服务与数据报服务的对比</a></p>
</li>
<li>
<p><a href="#网际协议 IP">网际协议 IP</a></p>
</li>
<li>
<ul>
<li><a href="#1.虚拟互联网">1.虚拟互联网</a></li>
</ul>
</li>
<li>
<p><a href="#2.IP地址">2.IP地址</a></p>
<ul>
<li>
<p><a href="#3.划分子网和构造超网">3.划分子网和构造超网</a></p>
</li>
<li>
<p><a href="#4.IP地址与硬件地址">4.IP地址与硬件地址</a></p>
</li>
<li>
<p><a href="#5.**ARP & RARP**">5.<strong>ARP &amp; RARP</strong></a></p>
</li>
<li>
<p><a href="#6.IP数据报格式">6.IP数据报格式</a></p>
</li>
<li>
<p><a href="#7.IP转发分组的流程">7.IP转发分组的流程</a></p>
</li>
<li>
<p><a href="#网际控制报文协议 ICMP">网际控制报文协议 ICMP</a></p>
</li>
<li>
<p><a href="#互联网的路由选择协议">互联网的路由选择协议</a></p>
</li>
<li>
<ul>
<li>
<p><a href="#（1）内部网关协议RIP">（1）内部网关协议RIP</a></p>
</li>
<li>
<p><a href="#(2)内部网关协议OSPF">(2)内部网关协议OSPF</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#IP多播">IP多播</a></p>
</li>
<li>
<p><a href="#网络地址转换NAT">网络地址转换NAT</a></p>
</li>
</ul>
</li>
</ul>
<p><span id="网络层提供得两种服务"></span></p>
<h2 id="网络层提供得两种服务"><a class="markdownIt-Anchor" href="#网络层提供得两种服务"></a> 网络层提供得两种服务</h2>
<p><strong>网络层提供的两种服务</strong></p>
<ul>
<li>在计算机网络领域，网络层应该向运输层提供怎样的服务（“面向连接”还是“无连接”）曾引起了长期的争论。</li>
<li>争论焦点的实质就是：在计算机通信中，可靠交付应当由谁来负责？是<strong>网络</strong>还是网络层提供的两种服务</li>
<li>在计算机网络领域，网络层应该向运输层提供怎样的服务（“面向连接”还是“无连接”）曾引起了长期的争论。</li>
<li>争论焦点的实质就是：在计算机通信中，可靠交付应当由谁来负责？是网络还是端系统？ ？</li>
<li>两种服务：网络层应该向运输层提供怎样得服务
<ul>
<li>虚电路服务</li>
<li>数据包服务</li>
</ul>
</li>
</ul>
<p><span id="1.虚电路服务"></span></p>
<h3 id="1虚电路服务"><a class="markdownIt-Anchor" href="#1虚电路服务"></a> 1.虚电路服务</h3>
<p>面向连接的通信方式</p>
<ul>
<li>建立<strong>虚电路</strong>(Virtual Circuit)，以保证双方通信所需的一切网络资源。</li>
<li>如果再使用可靠传输的网络协议，就可使所发送的分组无差错按序到达终点。<br>
<img src="/images/javawz/20200430162831795.png" alt="在这里插入图片描述"><br>
<strong>虚电路是逻辑连接</strong></li>
<li>虚电路表示这只是一条<strong>逻辑上的连接</strong>，分组都沿着这条逻辑连接按照存储转发方式传送，而<strong>并不是真正建立了一条物理连接</strong>。</li>
<li>请注意，电路交换的电话通信是先建立了一条真正的连接。因此分组交换的虚连接和电路交换的连接只是类似，但并不完全一样。</li>
</ul>
<p>.<br>
.<br>
<span id="2.数据包服务"></span></p>
<h3 id="2数据包服务"><a class="markdownIt-Anchor" href="#2数据包服务"></a> 2.数据包服务</h3>
<p><img src="/images/javawz/20200430163756614.png" alt="在这里插入图片描述"><br>
<img src="/images/javawz/20200506083348375.png" alt="在这里插入图片描述"></p>
<p><strong>因特网采用的设计思路</strong></p>
<ul>
<li>网络层向上只提供简单灵活的、无连接的、<strong>尽最大努力交付</strong>的<strong>数据报服务</strong>。</li>
<li>网络在发送分组时不需要先建立连接。每一个分组（即 IP 数据报）独立发送，与其前后的分组无关（不进行编号）。</li>
<li>网络层不提供服务质量的承诺。即所传送的分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。</li>
</ul>
<p>.<br>
.</p>
<p><strong>尽最大努力交付的好处</strong></p>
<ul>
<li>由于传输网络不提供端到端的可靠传输服务，这就使网络中的路由器可以做得比较简单，而且价格低廉（与电信网的交换机相比较）。</li>
<li>如果主机（即端系统）中的进程之间的通信需要是可靠的，那么就由网络的主机中的运输层负责（包括差错处理、流量控制等）。</li>
<li>采用这种设计思路的好处是：网络的造价大大降低，运行方式灵活，能够适应多种应用。</li>
<li>因特网能够发展到今日的规模，充分证明了当初采用这种设计思路的正确性。</li>
</ul>
<p>.<br>
.<br>
<span id="虚电路服务与数据报服务的对比"></span></p>
<h3 id="虚电路服务与数据报服务的对比"><a class="markdownIt-Anchor" href="#虚电路服务与数据报服务的对比"></a> 虚电路服务与数据报服务的对比</h3>
<ul>
<li>
<table>
<thead>
<tr>
<th>对比的方面</th>
<th>虚电路服务</th>
<th>数据报服务</th>
</tr>
</thead>
<tbody>
<tr>
<td>思路</td>
<td>可靠通信应当由网络来保证</td>
<td>可靠通信应当由用户主机来保证</td>
</tr>
<tr>
<td>连接的建立</td>
<td>必须有</td>
<td>不需要</td>
</tr>
<tr>
<td>终点地址</td>
<td>仅在连接建立阶段使用，每个分组使用短的虚电路号</td>
<td>每个分组都有终点的完整地址</td>
</tr>
<tr>
<td>分组的转发</td>
<td>属于同一条虚电路的分组均按照同一路由进行转发</td>
<td>每个分组独立选择路由进行转发</td>
</tr>
<tr>
<td>当结点出故障时</td>
<td>所有通过出故障的结点的虚电路均不能工作</td>
<td>出故障的结点可能会丢失分组，一些路由可能会发生变化</td>
</tr>
<tr>
<td>分组的顺序</td>
<td>总是按发送顺序到达终点</td>
<td>到达终点时不一定按发送顺序</td>
</tr>
<tr>
<td>端到端的差错处理和流量控制</td>
<td>可以由网络负责，也可以由用户主机负责</td>
<td>由用户主机负责</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>.<br>
.<br>
<span id="网际协议 IP"></span></p>
<h2 id="网际协议-ip"><a class="markdownIt-Anchor" href="#网际协议-ip"></a> 网际协议 IP</h2>
<p><img src="/images/javawz/20200507093025535.png" alt="在这里插入图片描述"><br>
<span id="1.虚拟互联网"></span></p>
<h3 id="1虚拟互联网"><a class="markdownIt-Anchor" href="#1虚拟互联网"></a> 1.虚拟互联网</h3>
<p><strong>网络层中间设备</strong><br>
中间设备又称为中间系统或中继(relay)系统。</p>
<ul>
<li>物理层中继系统：转发器(repeater)。</li>
<li>数据链路层中继系统：网桥或桥接器(bridge)。</li>
<li>网络层中继系统：路由器(router)。</li>
<li>网络层以上的中继系统：网关(gateway)。<br>
注： 现在说的网关一般指的是路由器接口，网关地址一般习惯使用本网段第一个地址或者最后一个地址</li>
</ul>
<p><img src="/images/javawz/20200502224434522.png" alt="在这里插入图片描述"></p>
<p><img src="/images/javawz/20200502224345992.png" alt="在这里插入图片描述"><br>
<strong>虚拟互连网络的意义</strong></p>
<ul>
<li>所谓虚拟互连网络也就是逻辑互连网络，它的意思就是互连起来的各种物理网络的异构性本来是客观存在的，但是我们利用 IP 协议就可以使这些性能各异的网络从用户看起来好像是一个统一的网络。</li>
<li>使用 IP 协议的虚拟互连网络可简称为 IP 网。</li>
<li>使用虚拟互连网络的好处是：当互联网上的主机进行通信时，就好像在一个网络上通信一样，而看不见互连的各具体的网络异构细节。</li>
</ul>
<p>.<br>
.<br>
<span id="2.IP地址"></span></p>
<h3 id="2ip地址"><a class="markdownIt-Anchor" href="#2ip地址"></a> 2.IP地址</h3>
<p><strong>本小节我转载了与韩老师讲解思路一致 但是总结的更详细的IP地址与划分博文合集笔记供大家阅读</strong><br>
<strong>点下方链接就可进入</strong></p>
<blockquote>
<p><strong><a href="https://blog.csdn.net/LeeQiang8023/article/details/105896270" target="_blank" rel="noopener">1、IP地址和子网划分学习笔记之《预备知识：进制计数》</a></strong></p>
<p><strong><a href="https://blog.csdn.net/LeeQiang8023/article/details/105896390" target="_blank" rel="noopener">2、IP地址和子网划分学习笔记之《IP地址详解》</a></strong></p>
<p><strong><a href="https://blog.csdn.net/LeeQiang8023/article/details/105896584" target="_blank" rel="noopener">3、IP地址和子网划分学习笔记之《子网掩码详解》</a></strong><br>
<span id="3.划分子网和构造超网"></span></p>
</blockquote>
<h3 id="3划分子网和构造超网"><a class="markdownIt-Anchor" href="#3划分子网和构造超网"></a> 3.划分子网和构造超网</h3>
<p><strong>本小节我转载了与韩老师讲解思路一致 但是总结的更详细的IP地址与划分博文合集笔记供大家阅读</strong><br>
<strong>点下方链接就可进入</strong></p>
<blockquote>
<p><strong><a href="https://blog.csdn.net/LeeQiang8023/article/details/105896492" target="_blank" rel="noopener">4、IP地址和子网划分学习笔记之《子网划分详解》</a></strong></p>
<p><strong><a href="https://blog.csdn.net/LeeQiang8023/article/details/105896531" target="_blank" rel="noopener">5、IP地址和子网划分学习笔记之《超网合并详解》</a></strong><br>
<span id="4.IP地址与硬件地址"></span></p>
</blockquote>
<h3 id="4ip地址与硬件地址"><a class="markdownIt-Anchor" href="#4ip地址与硬件地址"></a> 4.IP地址与硬件地址</h3>
<p><strong>本小节我转载了与韩老师讲解思路一致 但是总结的更详细的IP地址与划分博文合集笔记供大家阅读</strong><br>
<strong>点下方链接就可进入</strong></p>
<blockquote>
<p><strong><a href="https://blog.csdn.net/LeeQiang8023/article/details/105896390" target="_blank" rel="noopener">2、IP地址和子网划分学习笔记之《IP地址详解》</a></strong></p>
</blockquote>
<p>.<br>
.<br>
<span id="5.**ARP & RARP**"></span></p>
<h3 id="5arp-rarp"><a class="markdownIt-Anchor" href="#5arp-rarp"></a> 5.<strong>ARP &amp; RARP</strong></h3>
<p><img src="/images/javawz/20200506112109402.png" alt="在这里插入图片描述"><br>
<strong>ARP简介</strong></p>
<p>不管网络层使用的是什么协议，在实际网络的链路上传送数据帧时，最终还是必须使用硬件地址。</p>
<p>每一个主机都设有一个 ARP 高速缓存(ARP cache)，里面有所在的局域网上的各主机和路由器的 IP 地址到硬件地址的映射表。</p>
<p>当主机 A 欲向本局域网上的某个主机 B 发送 IP 数据报时，就先在其 ARP 高速缓存中查看有无主机 B 的 IP 地址。如有，就可查出其对应的硬件地址，再将此硬件地址写入 MAC 帧，然后通过局域网将该 MAC 帧发往此硬件地址。<br>
<img src="/images/javawz/20200506112227720.png" alt="在这里插入图片描述"></p>
<p><strong>ARP高速缓存的作用</strong></p>
<p>为了减少网络上的通信量，主机 A 在发送其 ARP 请求分组时，就将自己的 IP 地址到硬件地址的映射写入 ARP 请求分组。</p>
<p>当主机 B 收到 A 的 ARP 请求分组时，就将主机 A 的这一地址映射写入主机 B 自己的 ARP 高速缓存中。这对主机 B 以后向 A 发送数据报时就更方便了。</p>
<p>.</p>
<p>.<br>
<strong>使用</strong> <strong>ARP</strong> <strong>的四种典型情况</strong></p>
<ul>
<li>发送方是主机，要把IP数据报发送到本网络上的另一个主机。这时用 ARP 找到目的主机的硬件地址。</li>
<li>发送方是主机，要把 IP 数据报发送到另一个网络上的一个主机。这时用 ARP 找到本网络上的一个路由器的硬件地址。剩下的工作由这个路由器来完成。</li>
<li>发送方是路由器，要把 IP 数据报转发到本网络上的一个主机。这时用 ARP 找到目的主机的硬件地址。</li>
<li>发送方是路由器，要把 IP 数据报转发到另一个网络上的一个主机。这时用 ARP 找到本网络上的一个路由器的硬件地址。剩下的工作由这个路由器来完成。</li>
</ul>
<p>.<br>
.</p>
<p><strong>应当注意的问题</strong></p>
<p>ARP 是解决同一个局域网上的主机或路由器的 IP 地址和硬件地址的映射问题。</p>
<p>如果所要找的主机和源主机不在同一个局域网上，那么就要通过 ARP 找到一个位于本局域网上的某个路由器的硬件地址，然后把分组发送给这个路由器，让这个路由器把分组转发给下一个网络。剩下的工作就由下一个网络来做。</p>
<p>从IP地址到硬件地址的解析是自动进行的，主机的用户对这种地址解析过程是不知道的。</p>
<p>只要主机或路由器要和本网络上的另一个已知 IP 地址的主机或路由器进行通信，ARP 协议就会自动地将该 IP 地址解析为链路层所需要的硬件地址。</p>
<p>.<br>
.<br>
<strong>逆地址解析协议 RARP</strong></p>
<p>逆地址解析协议 RARP 使只知道自己硬件地址的主机能够知道其 IP 地址。</p>
<p>.<br>
<span id="6.IP数据报格式"></span></p>
<h3 id="6ip数据报格式"><a class="markdownIt-Anchor" href="#6ip数据报格式"></a> 6.IP数据报格式</h3>
<p><strong>IP数据包</strong><br>
<img src="/images/javawz/20200506085348654.png" alt="在这里插入图片描述"></p>
<p>一个 IP 数据包由首部和数据两部分组成。</p>
<ul>
<li>首部的前一部分是固定长度，共 20 字节，是所有 IP 数据报必须具有的。</li>
<li>在首部的固定部分的后面是一些可选字段，其长度是可变的。</li>
</ul>
<p><img src="/images/javawz/20200506085505183.png" alt="在这里插入图片描述"></p>
<p><strong>IP 数据报首部的固定部分中的各字段</strong></p>
<ul>
<li><strong>版本</strong>——占4位，指IP协议的版本，目前使用的IP协议版本号为4（即IPv4）</li>
<li><strong>首部长度</strong>——占4位，课表示的最大数值 是15个单位(一个单位为4字节)，因此IP的首部长度的最大值是60字节。</li>
<li><strong>区分服务</strong>——让数据包加上一个标记，来告诉网络上那些传输的数据，这些数据包在传的时候 是着急还是不着急。QOS服务质量</li>
<li><strong>总长度</strong>——占16位，指首部和数据之和的长度，单位位字节，因此数据报的最大长度位65535字节。总长度必须不超过最大传送单元MTU。</li>
<li><strong>标识</strong>——占16位，它是一个计数器，用老产生数据报的标识，不是序号，每产生一个数据包，就增加1。</li>
<li><strong>标志</strong>——占3位，目前只有前两位有意义。标志字段的最低位是MF。 MF=1表示后面“还有分片”。MF=0表示最后一个分片。标志字段中间的一位是DF。 只有当DF=0时才允许分片。<br>
<img src="/images/javawz/20200506094017932.png" alt="在这里插入图片描述"></li>
<li><strong>生存时间</strong> 记位TTL （Time To Live） 占8位，数据报在网络中可通过的路由器数的最大值<br>
数据包没过一个路由器 TTL-1</li>
<li><strong>协议</strong>——协议（8位）字段指出此数据报携带的数据使用何种学语以便目的主机的IP层讲数据部分交给哪个处理<br>
<img src="/images/javawz/20200506101736822.png" alt="在这里插入图片描述"></li>
<li><strong>首部检验和</strong>——首部检验和(16 位)字段只检验数据报的首部，不检验数据部分。这里不采用 CRC 检验码而采用简单的计算方法。<br>
<img src="/images/javawz/20200506102016792.png" alt="在这里插入图片描述"><br>
<img src="/images/javawz/20200506102238549.png" alt="在这里插入图片描述"></li>
</ul>
<p>.<br>
.<br>
<strong>IP数据报首部的可变部分</strong></p>
<p>IP 首部的可变部分就是一个选项字段，用来支持排错、测量以及安全等措施，内容很丰富。</p>
<p>选项字段的长度可变，从 1 个字节到 40 个字节不等，取决于所选择的项目。</p>
<p>增加首部的可变部分是为了增加 IP 数据报的功能，但这同时也使得 IP 数据报的首部长度成为可变的。这就增加了每一个路由器处理数据报的开销。</p>
<p>实际上这些选项很少被使用。</p>
<p>.<br>
.<br>
<span id="7.IP转发分组的流程"></span></p>
<h3 id="7ip转发分组的流程"><a class="markdownIt-Anchor" href="#7ip转发分组的流程"></a> 7.IP转发分组的流程</h3>
<p><strong>数据包如何路由</strong><br>
<img src="/images/javawz/20200507093926598.png" alt="在这里插入图片描述"></p>
<p><strong>IP路由</strong></p>
<ul>
<li>
<p>路由就是路由器从一个网段到另外一个网段转发数据包的过程，即数据包通过路由器转发，就是数据路由。</p>
</li>
<li>
<p>网络畅通条件，要求数据包必须能够到达目标地址，同时数据包必须能够返回发送地址。</p>
</li>
<li>
<p>这就要求沿途经过的路由器必须知道到目标网络如何转发数据包，即到达目的网络下一跳转发给哪个路由器，也就是必须有到达目标网络的路由，沿途的路由器还必须有数据包返回所需的路由。<br>
.</p>
</li>
<li>
<blockquote>
<p><strong>数据路由</strong>：路由器在不同网段转发数据包<br>
<strong>网络畅通的条件</strong>：能去能回<br>
沿途的路由器必须知道目标网络下一跳给哪个接口<br>
沿途的路由器必须知道源网络下一跳给哪个接口</p>
</blockquote>
</li>
</ul>
<p><img src="/images/javawz/20200506204208551.png" alt="在这里插入图片描述"></p>
<ul>
<li>如图所示，计算机PC0 ping PC1，网络要想通，要求沿途的路由器Router0，Router1，Router2，Router3都必须有到192.168.1.0/24网络的路由，这样数据包才能到达PC1。</li>
<li>PC1要回应数据包给PC0，沿途所有的路由器必须有到192.168.0.0/24网络的路由，这样数据包才能回来。</li>
</ul>
<p>.<br>
.<br>
<strong>配置静态路由</strong><br>
<img src="/images/javawz/20200506205100202.png" alt="在这里插入图片描述"></p>
<p><strong>默认路由</strong></p>
<ul>
<li>网络地址和子网掩码都为0，如图所示配置，这就意味着到任何网络下一跳转发给10.0.0.2。</li>
<li>网络地址和子网掩码均为0的路由就是默认路由。
<ul>
<li>Router(config)#ip route 0.0.0.0 0.0.0.0 10.0.0.2</li>
</ul>
</li>
</ul>
<p>.<br>
.<br>
<strong>Windows上的默认路由和网关</strong></p>
<ul>
<li>计算机也有路由表，我们可以在计算机上运行route print显示Windows操作系统上的路由表。</li>
<li>运行netstat –r也可以显示Windows操作系统上的路由表。</li>
<li>如图所示，给计算机配置网关就是给计算机添加默认路由。<br>
<img src="/images/javawz/20200506212853937.png" alt="在这里插入图片描述"></li>
</ul>
<p>.<br>
.</p>
<ul>
<li>如果不配置计算机的网关，使用以下命令添加默认路由。</li>
<li>如图所示，去掉本地连接的网关，在命令提示符下，输入route print ，可以看到没有默认路由了，该计算机也不能访问其他网段，ping 202.99.160.68 提示“目标主机不可到达”。<br>
<img src="/images/javawz/20200506212957308.png" alt="在这里插入图片描述"><br>
.<br>
.</li>
<li>如图所示，在命令提示符下，输入route /?可以看到该命令的帮助。</li>
<li>输入route add 0.0.0.0 mask 0.0.0.0 192.168.8.1，添加默认路由。</li>
<li>输入route print 可以显示路由表，默认路由已经出现。</li>
<li>Ping 202.99.160.68 可以ping通。<br>
<img src="/images/javawz/20200506213204945.png" alt="在这里插入图片描述"></li>
</ul>
<p>.<br>
.</p>
<ul>
<li>如图所示，内网的计算机需要配置IP地址、子网掩码和网关，网关就是Server的内网网卡的IP地址。在Server的两个连接，内网的网卡不需要配置网关，但是连接Internet的网卡需要配置默认网关。<br>
<img src="/images/javawz/20200506213316454.png" alt="在这里插入图片描述"><br>
.<br>
.<br>
<strong>注意</strong></li>
<li>IP 数据报的首部中没有地方可以用来指明“下一跳路由器的 IP 地址”。</li>
<li>当路由器收到待转发的数据报，不是将下一跳路由器的 IP 地址填入 IP 数据报，而是送交下层的网络接口软件。</li>
<li>网络接口软件使用 ARP 负责将下一跳路由器的 IP 地址转换成硬件地址，并将此硬件地址放在链路层的 MAC 帧的首部，然后根据这个硬件地址找到下一跳路由器。<br>
.<br>
.<br>
<span id="网际控制报文协议 ICMP"></span></li>
</ul>
<h2 id="网际控制报文协议-icmp"><a class="markdownIt-Anchor" href="#网际控制报文协议-icmp"></a> 网际控制报文协议 ICMP</h2>
<p><strong>ICMP简介</strong></p>
<p>为了提高 IP 数据报交付成功的机会，在网际层使用了网际控制报文协议 ICMP (Internet Control Message Protocol)。</p>
<p>ICMP 允许主机或路由器报告差错情况和提供有关异常情况的报告。</p>
<p>ICMP 不是高层协议，而是 IP 层的协议。</p>
<p>ICMP 报文作为 IP 层数据报的数据，加上数据报的首部，组成 IP 数据报发送出去。<br>
.<br>
.<br>
<strong>ICMP报文格式</strong><br>
<img src="/images/javawz/20200507091405628.png" alt="在这里插入图片描述"><br>
.<br>
.<br>
<strong>ICMP报文的类型</strong></p>
<ul>
<li>ICMP 报文的种类有两种，即 ICMP 差错报告报文和 ICMP 询问报文。</li>
<li>ICMP 报文的前 4 个字节是统一的格式，共有三个字段：即类型、代码和检验和。接着的 4 个字节的内容与 ICMP 的类型有关。</li>
<li>差错报告报文有五种：终点不可达 ，源点抑制(Source quench) ，时间超过 ，参数问题 ，改变路由（重定向）(Redirect)</li>
<li>询问报文有两种：回送请求和回答报文，时间戳请求和回答报文<br>
<img src="/images/javawz/20200507091541236.png" alt="在这里插入图片描述"><img src="/images/javawz/20200507091556553.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>差错报告报告报文的数据字段的内容</strong><br>
<img src="/images/javawz/20200507091643165.png" alt="在这里插入图片描述"><br>
.<br>
.<br>
<strong>ICMP应用举例</strong></p>
<ul>
<li>PING 用来测试两个主机之间的连通性。
<ul>
<li>PING 使用了 ICMP 回送请求与回送回答报文。</li>
</ul>
</li>
<li>PING 是应用层直接使用网络层 ICMP 的例子，它没有通过运输层的 TCP 或UDP。</li>
<li>Pathping</li>
<li>tracert<br>
<img src="/images/javawz/20200507092729465.png" alt="在这里插入图片描述"></li>
</ul>
<p>.<br>
.<br>
<strong>ping命令诊断网络故障</strong></p>
<ul>
<li>PING（Packet Internet Grope），因特网包探索器，用于测试网络连接量的程序。Ping发送一个ICMP回声请求消息给目的地并报告是否收到所希望的ICMP回声应答。</li>
<li>ping指的是端对端连通，通常用来作为可用性的检查， 但是某些病毒木马会强行大量远程执行ping命令抢占你的网络资源，导致系统变慢，网速变慢。 严禁ping入侵作为大多数防火墙的一个基本功能提供给用户进行选择。</li>
<li>如果你打开IE浏览器访问网站失败，你可以通过ping命令测试到Internet的网络连通，可以为你排除网络故障提供线索，下面展示ping命令返回的信息以及分析其原因。</li>
</ul>
<p>.<br>
<strong>目标主机不可到达</strong><br>
<img src="/images/javawz/20200507103301406.png" alt="在这里插入图片描述"><br>
<strong>目标网络不可到达</strong><br>
<img src="/images/javawz/20200507103340478.png" alt="在这里插入图片描述"><br>
<strong>请求超时</strong><br>
<img src="/images/javawz/20200507103422784.png" alt="在这里插入图片描述"></p>
<p><strong>通过延迟评估网络带宽</strong><br>
<img src="/images/javawz/20200507103834272.png" alt="在这里插入图片描述"><br>
.<br>
.<br>
<strong>Pathping跟踪数据包的路径</strong></p>
<p>使用ping能够判断网络通还是不通，比如请求超时，你就不能判断什么位置出现的网络故障造成的请求超时。使用pathping命令能跟踪数据包的路径，能够查出故障点，并且能够计算路由器转发丢包率和链路丢包率以及延迟，据此能够判断出网络拥塞情况。<br>
<img src="/images/javawz/2020050710393134.png" alt="在这里插入图片描述"><br>
<span id="互联网的路由选择协议"></span></p>
<h2 id="互联网的路由选择协议"><a class="markdownIt-Anchor" href="#互联网的路由选择协议"></a> 互联网的路由选择协议</h2>
<p>路由选择协议的核心就是路由算法，一个理想的路由算法应该以下特点：</p>
<ul>
<li>算法必须是正确的和完整的：沿着各路由表所指引的路由，分组一定能够最终到达目的网络和目的主机</li>
<li>算法在计算上应简单</li>
<li>算法应能适应通信量和网络拓扑的变化：即要有自适应性。</li>
<li>算法应具有稳定性</li>
<li>算法应该是公平的</li>
<li>算法应该是最佳的</li>
</ul>
<p><strong>路由选择包括静态和动态：</strong></p>
<ul>
<li>
<p>静态（非自适应路由选择）：简单和开销较小，但不能及时适应网络状态的变化，适用于简单的小网络</p>
</li>
<li>
<p>动态（自适应路由）：能较好地适应网络状态的变化。但实现起来较为复杂，开销比较大。</p>
</li>
<li>
<p>互联网才用的路由选择协议主要是<strong>自适应、分布式路由选择协议</strong>，由于以下两个原因，互联网采用分层次的路由选择协议：</p>
<ul>
<li>互联网的规模非常大，如果让所有的路由器知道所有的网络应怎样到达，则这种路由表将非常大</li>
<li>许多单位不愿意外界了解自己单位网路的布局细节和本部门所采用的路由选择协议，但同时还希望连接到互联网上。</li>
</ul>
<p>.</p>
</li>
<li>
<p>为此，把整个互联网划分为许多较小的自治系统AS（autonomous system）。自治系统AS是在单一技术管理下的一组路由器，这些路由器使用一种自治系统内部的路由选择协议和共同的度量。一个AS对其他AS表现出的是一个单一的和一直的路由选择策略。</p>
</li>
</ul>
<p>这样就把路由选择协议划分为两大类：<br>
<strong>内部网关协议IGP</strong>（Interior Gateway protocol）:也叫作域内路由选择，即在一个自治系统内部使用的路由选择协议，如RIP和OSPF协议。<br>
<strong>外部网关协议EGP</strong>（External Gateway Protocol）：也叫作域间路由选择，若源主机和目的主机处在不同的自治系统中，当数据报传到一个自治系统的边界时，就需要使用一种协议将路由选择信息传递到另一个自治系统中。<br>
<span id="（1）内部网关协议RIP"></span></p>
<h3 id="1内部网关协议rip"><a class="markdownIt-Anchor" href="#1内部网关协议rip"></a> （1）内部网关协议RIP</h3>
<p>RIP是一种<strong>分布式的基于距离向量的路由选择协议</strong>。<br>
RIP要求每一个路由器都要维护从它自己到其他每一个目的网络距离记录。<br>
距离的定义：从一个路由器到直接连接的网络的距离定义为1/0，其中每经过一次路由器就加1，也称为“跳数”。<br>
分布式路由的特点就是：每一个路由器都要不断地和其他一些路由器交换路由信息，周期性广播。</p>
<p><strong>RIP协议的特点：</strong></p>
<ul>
<li>仅和相邻路由器交换信息。</li>
<li>路由器交换的信息使当前本路由器所知道的全部信息，即自己现在的路由表，包括到本自治网络的最短距离，以及到每个网络应经过的下一跳路由器。</li>
<li>按照固定的时间间隔交换路由信息。</li>
<li>路由器刚刚开始工作时，它的路由表是空的，经过若干次更新后，所有路由器最终都会知道到达本自治系统中任何一个网络的最短距离和下一跳路由器的地址。</li>
<li>距离向量算法：找出每个目的网络的最短距离算法。</li>
</ul>
<blockquote>
<p>收到相邻路由器（其地址为 X）的一个 RIP 报文：<br>
(1) 先修改此 RIP 报文中的所有项目：把“下一跳”字段中的地址都改为 X，并把所有的“距离”字段的值加 1。<br>
(2) 对修改后的 RIP 报文中的每一个项目，重复以下步骤：<br>
若项目中的目的网络不在路由表中，则把该项目加到路由表中。<br>
否则<br>
​ 若下一跳字段给出的路由器地址是同样的，则把收到的项 目 替换原路由表中的项目。<br>
否则<br>
​ 若收到项目中的距离小于路由表中的距离，则进行更新，<br>
否则，什么也不做。<br>
(3) 若 3 分钟还没有收到相邻路由器的更新路由表，则把此相邻路由器记为不可达路由器，即将距离置为16（距离为16表示不可达）。</p>
</blockquote>
<p><strong>RIP协议的优缺点</strong></p>
<ul>
<li>RIP 存在的一个问题是当网络出现故障时，要经过比较长的时间才能将此信息传送到所有的路由器。</li>
<li>RIP 协议最大的优点就是实现简单，开销较小。</li>
<li>RIP 限制了网络的规模，它能使用的最大距离为 <strong>15（16 表示不可达）。</strong></li>
<li>路由器之间交换的路由信息是路由器中的完整路由表，因而随着网络规模的扩大，开销也就增加。</li>
</ul>
<p>.<br>
.<br>
<span id="(2)内部网关协议OSPF"></span></p>
<h3 id="2内部网关协议ospf"><a class="markdownIt-Anchor" href="#2内部网关协议ospf"></a> (2)内部网关协议OSPF</h3>
<p><strong>OSPF 协议的基本特点</strong></p>
<p>“开放”表明 OSPF 协议不是受某一家厂商控制，而是公开发表的。</p>
<p>“最短路径优先”是因为使用了 Dijkstra 提出的最短路径算法SPF</p>
<p>OSPF 只是一个协议的名字，它并不表示其他的路由选择协议不是“最短路径优先”。</p>
<p>是分布式的链路状态协议。</p>
<p>.<br>
.<br>
<strong>三个要点</strong></p>
<p><strong>向本自治系统中所有路由器发送信息</strong>，这里使用的方法是洪泛法。</p>
<p>发送的信息就是与本路由器<strong>相邻</strong>的所有路由器的链路状态，但这只是路由器所知道的<strong>部分信息</strong>。</p>
<p>“链路状态”就是说明本路由器都和哪些路由器相邻，以及该链路的“度量”(metric)。</p>
<p>只有当链路状态发生变化时，路由器才用洪泛法向所有路由器发送此信息。</p>
<p>.<br>
.<br>
<strong>链路状态数据库</strong></p>
<ul>
<li>由于各路由器之间频繁地交换链路状态信息，因此所有的路由器最终都能建立一个链路状态数据库。</li>
<li>这个数据库实际上就是全网的拓扑结构图，它在全网范围内是一致的（这称为链路状态数据库的同步）。</li>
<li>OSPF 的链路状态数据库能较快地进行更新，使各个路由器能及时更新其路由表。OSPF 的更新过程收敛得快是其重要优点。 \</li>
</ul>
<p><strong>OSPF 划分为两种不同的区域</strong><br>
<img src="/images/javawz/20200511145155197.png" alt="在这里插入图片描述"></p>
<p><strong>划分区域</strong></p>
<ul>
<li>划分区域的好处就是将利用洪泛法交换链路状态信息的范围局限于每一个区域而不是整个的自治系统，这就减少了整个网络上的通信量。</li>
<li>在一个区域内部的路由器只知道本区域的完整网络拓扑，而不知道其他区域的网络拓扑的情况。</li>
<li>OSPF 使用层次结构的区域划分。在上层的区域叫作主干区域(backbone area)。主干区域的标识符规定为0.0.0.0。主干区域的作用是用来连通其他在下层的区域。<br>
<img src="/images/javawz/20200511145252579.png" alt="在这里插入图片描述"><br>
<img src="/images/javawz/20200511145303192.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>OSPF 直接用 IP 数据报传送</strong></p>
<ul>
<li>OSPF 不用 UDP 而是直接用 IP 数据报传送。</li>
<li>OSPF 构成的数据报很短。这样做可减少路由信息的通信量。</li>
<li>数据报很短的另一好处是可以不必将长的数据报分片传送。分片传送的数据报只要丢失一个，就无法组装成原来的数据报，而整个数据报就必须重传。</li>
</ul>
<p>.<br>
.<br>
<strong>OSPF 的其他特点</strong></p>
<ul>
<li>OSPF 对不同的链路可根据 IP 分组的不同服务类型 TOS 而设置成不同的代价。因此，OSPF 对于不同类型的业务可计算出不同的路由。</li>
<li>如果到同一个目的网络有多条相同代价的路径，那么可以将通信量分配给这几条路径。这叫作多路径间的负载平衡。</li>
<li>所有在 OSPF 路由器之间交换的分组都具有鉴别的功能。</li>
<li>支持可变长度的子网划分和无分类编址 CIDR。</li>
<li>每一个链路状态都带上一个 32 位的序号，序号越大状态就越新。</li>
</ul>
<p><img src="/images/javawz/20200511145739994.png" alt="在这里插入图片描述"></p>
<p><strong>OSPF 的五种分组类型</strong></p>
<ul>
<li>类型1，问候(Hello)分组。</li>
<li>类型2，数据库描述(Database Description)分组。</li>
<li>类型3，链路状态请求(Link State Request)分组。</li>
<li>类型4，链路状态更新(Link State Update)分组， 用洪泛法对全网更新链路状态。</li>
<li>类型5，链路状态确认(Link State Acknowledgment) 分组。<br>
<img src="/images/javawz/20200511150003451.png" alt="在这里插入图片描述"><br>
<img src="/images/javawz/20200511150049489.png" alt="在这里插入图片描述"></li>
</ul>
<p>.<br>
.<br>
<strong>OSPF 的其他特点</strong></p>
<ul>
<li>OSPF 还规定每隔一段时间，如 30 分钟，要刷新一次数据库中的链路状态。</li>
<li>由于一个路由器的链路状态只涉及到与相邻路由器的连通状态，因而与整个互联网的规模并无直接关系。因此当互联网规模很大时，OSPF 协议要比距离向量协议 RIP 好得多。</li>
<li>OSPF 没有“坏消息传播得慢”的问题，据统计，其响应网络变化的时间小于 100 ms。<br>
<span id="IP多播"></span></li>
</ul>
<h2 id="ip多播"><a class="markdownIt-Anchor" href="#ip多播"></a> IP多播</h2>
<p><span id="网络地址转换NAT"></span></p>
<h2 id="网络地址转换nat"><a class="markdownIt-Anchor" href="#网络地址转换nat"></a> 网络地址转换NAT</h2>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://xiaowuyoucy.github.io/2021/04/14/计算机网络原理笔记-第四章网络层/" title="第四章网络层" target="_blank" rel="external">https://xiaowuyoucy.github.io/2021/04/14/计算机网络原理笔记-第四章网络层/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/xiaowuyoucy" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/logo.jpg" class="img-rounded w-full" alt>
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/xiaowuyoucy" target="_blank"><span class="text-dark">YanChen</span><small class="ml-1x"></small></a></h3>
        <div>Personal profile</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
		  

    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/04/15/cpp0001第一个c-程序-hello-world/" title="第一个c++程序 hello world"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/04/01/计算机网络原理笔记-第三章-数据链路层/" title="第三章 数据链路层"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/zfb.png" alt="扫码支持" title="扫一扫">
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wx.png" alt="扫码支持" title="扫一扫">
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class>
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/xiaowuyoucy" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
	<span>More contact information</span>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>


    <script>
(function ($) {
    $('.search-form').on('submit', function (e) {
        var keyword = $('.search-form-input[name="wd"]').val();
        window.location = 'https://www.baidu.com/s?wd=site:xiaowuyoucy.github.io ' + keyword;
        return false;
    });
})(jQuery);
</script>




   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <!-- <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"> -->
  <script src="//cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script>
  <script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '032928647cd59bc9f443',
    clientSecret: '82a11fd93e4d0779655af6dc4b73942a03e95276',
    repo: 'Xiaowuyoucy.github.io',
    owner: 'Xiaowuyoucy',
    admin: ['Xiaowuyoucy'],
    id: md5(location.pathname),
    distractionFreeMode: true
  })
  gitalk.render('comments')
  </script>

  







</body>
</html>